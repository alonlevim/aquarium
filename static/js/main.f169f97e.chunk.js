(this.webpackJsonpaquarium=this.webpackJsonpaquarium||[]).push([[0],[,function(e,t,a){e.exports={Aquarium:"Aquarium_Aquarium__tQejz",Background:"Aquarium_Background__1tbqt",Land:"Aquarium_Land__QSN87",Rocks:"Aquarium_Rocks__sMIb_",Rock:"Aquarium_Rock__1-ltl",Standing:"Aquarium_Standing__1_yav",Standing2:"Aquarium_Standing2__OR3a9",Sunlight:"Aquarium_Sunlight__1rWP1",SeaKelp:"Aquarium_SeaKelp__1stG2",BlueShape:"Aquarium_BlueShape__1n1nb",BlueShape2:"Aquarium_BlueShape2__3k8HL",GreenShape:"Aquarium_GreenShape__1OwGD",GreenShape2:"Aquarium_GreenShape2__3xz5W",Rock2:"Aquarium_Rock2__1taqG",Rock3:"Aquarium_Rock3__2z6G7",PurpleShape:"Aquarium_PurpleShape__1PxV2",RedShape:"Aquarium_RedShape__2NwmC",Bubble:"Aquarium_Bubble__3PKjo",moveBubble:"Aquarium_moveBubble__32zRN"}},,,,,,function(e,t,a){e.exports={Food:"Food_Food__3ZtMC",yellow:"Food_yellow__1UZ4Q",green:"Food_green__10WJz"}},function(e,t,a){e.exports=a.p+"static/media/rock2.0c047bfc.svg"},,,,,function(e,t,a){e.exports={Fish:"Fish_Fish__1Z0ry"}},function(e,t,a){e.exports=a.p+"static/media/fish.a6ec6b72.svg"},function(e,t,a){e.exports=a.p+"static/media/yellow-food.0f938568.svg"},function(e,t,a){e.exports=a.p+"static/media/green-food.bf3ea358.svg"},function(e,t,a){e.exports={GithubIcon:"GithubIcon_GithubIcon__18cKc"}},function(e,t,a){e.exports=a.p+"static/media/land.5010d4f3.svg"},function(e,t,a){e.exports=a.p+"static/media/rocks.8fa88985.svg"},function(e,t,a){e.exports=a.p+"static/media/rock.771f0d0b.svg"},function(e,t,a){e.exports=a.p+"static/media/standing.7e075853.svg"},function(e,t,a){e.exports=a.p+"static/media/standing2.aa55cd6d.svg"},function(e,t,a){e.exports=a.p+"static/media/sunlight.5ec30dde.svg"},function(e,t,a){e.exports=a.p+"static/media/sea-kelp.38be889c.svg"},function(e,t,a){e.exports=a.p+"static/media/blue-shape.40d840ac.svg"},function(e,t,a){e.exports=a.p+"static/media/blue-shape2.15d7a192.svg"},function(e,t,a){e.exports=a.p+"static/media/green-shape.0baeed56.svg"},function(e,t,a){e.exports=a.p+"static/media/green-shape2.80a36b2c.svg"},function(e,t,a){e.exports=a.p+"static/media/purple-shape.afc4ef84.svg"},function(e,t,a){e.exports=a.p+"static/media/red-shape.8d493c82.svg"},function(e,t,a){e.exports=a.p+"static/media/bubble.69126146.svg"},,function(e,t,a){e.exports=a(42)},,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(11),r=a.n(o),s=(a(38),a(2)),c=a(3),u=a(5),l=a(4),m=a(6),d=a(12),h=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},f=function(e,t){return(180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI).toFixed(3)},p=function(e,t){return{x:Math.floor(Math.random()*(e.x-t.width)),y:Math.floor(Math.random()*(e.y-t.height))}},v=function(e,t){var a,n,i=function(e,t){var a=e.x-t.x,n=e.y-t.y,i=0!==a?n/a:0;return{m:i,b:e.y-i*e.x}}(e,t),o=i.m,r=i.b;return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?n=o*(a=e.x<t.x?e.x+1:e.x-1)+r:(n=e.y<t.y?e.y+1:e.y-1,a=0!==o?(n-r)/o:t.x),{x:a,y:n}},g=function(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y},b=function(){return Math.round(Math.random())},y=a(13),_=a.n(y),x=a(14),I=a.n(x);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var A={RIGHT:"right",LEFT:"left"},k=10,w=20,E=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).move=function(){clearInterval(a.movementInterval.interval);var e=a.props.rectAquarium,t={x:e.width,y:e.height},n=p(t,a.state.rectAquarium);a.movementInterval.interval=setInterval((function(){var e=a.state.foodPoint||n,t=a.state.fishPosition,i=a.state,o=i.angle,r=i.direction,s=v(t,e);h(t,e)>k&&(r=t.x<s.x?A.RIGHT:A.LEFT,o=f(t,s)-180);var c={x:s.x,y:s.y};a.setState({fishPosition:c,direction:r,angle:o});var u=S({},c,{width:a.state.rectAquarium.width,height:a.state.rectAquarium.height}),l=S({},e,{width:1,height:1});g(u,l)&&(clearInterval(a.movementInterval.interval),a.state.foodPoint?a.eatFood():a.idle())}),a.state.speed)},a.idle=function(){a.idleTimeout.timeout=setTimeout(a.move,a.idleTimeout.timeInMilliseconds)},a.eatFood=function(){a.props.destroyFood(),a.state.size<w&&a.setState({size:a.state.size+1})},a.getFishSizeInfo=function(e){if(a.state.rectAquarium.default){var t=e.getBoundingClientRect();t.default=!1,a.setState({rectAquarium:t})}};var n={x:e.rectAquarium.width,y:e.rectAquarium.height};return a.movementInterval={interval:null,defaultTimeInMilliseconds:15},a.state={size:0,fishPosition:p(n,{width:30,height:30}),direction:A.LEFT,angle:0,speed:a.movementInterval.defaultTimeInMilliseconds,rectAquarium:{width:60,height:50,default:!0},foodPoint:null},a.idleTimeout={timeout:null,timeInMilliseconds:1e3},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){1===b()?this.idle():this.move()}},{key:"componentDidUpdate",value:function(e,t){var a=this;(e.food||t.foodPoint)&&this.setState((function(t){var n=S({},t);n.foodPoint,n.speed;return{foodPoint:e.food,speed:e.food?1:a.movementInterval.defaultTimeInMilliseconds}}),this.move)}},{key:"render",value:function(){var e=this.state,t=e.fishPosition,a=e.rectAquarium,n=e.angle,o=e.size,r=e.direction;return i.a.createElement("img",{ref:this.getFishSizeInfo,src:I.a,alt:"",className:_.a.Fish,style:{width:a.width+5*o,height:a.height+5*o,top:t.y,left:t.x,transform:"\n                        rotate(".concat(n,"deg)\n                        scaleY(").concat(r===A.RIGHT?-1:1,")\n                        ")}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.movementInterval.interval),clearTimeout(this.idleTimeout.timeout)}}]),t}(i.a.PureComponent),P=a(7),O=a.n(P),j=a(15),R=a.n(j),M=a(16),B={GREEN:{src:a.n(M).a,class:"green"},YELLOW:{src:R.a,class:"yellow"}},F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).move=function(){if(a.props.rectAquarium.height>a.state.yPosition){var e=a.state.yPosition+1;a.setState({yPosition:e}),a.props.update({y:e,x:a.props.xPosition})}else a.props.destroy()},a.state={yPosition:0,color:b()?B.GREEN:B.YELLOW},a.movementInterval={interval:null,timeInMilliseconds:25},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.movementInterval.interval=setInterval(this.move,this.movementInterval.timeInMilliseconds)}},{key:"render",value:function(){var e=this.props.xPosition,t=this.state,a=t.yPosition,n=t.color;return i.a.createElement("img",{src:n.src,alt:"",className:[O.a.Food,O.a[n.class]].join(" "),style:{left:e,top:a}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.movementInterval.interval)}}]),t}(i.a.PureComponent),N=a(17),L=a.n(N),z=function(e){return i.a.createElement("a",{target:"_blank",href:"https://github.com/alonlevim/aquarium",className:L.a.GithubIcon},e.children)},G=a(1),T=a.n(G),C=a(18),W=a.n(C),D=a(19),K=a.n(D),U=a(20),H=a.n(U),Y=a(21),J=a.n(Y),Q=a(22),Z=a.n(Q),X=a(23),V=a.n(X),$=a(24),ee=a.n($),te=a(25),ae=a.n(te),ne=a(26),ie=a.n(ne),oe=a(27),re=a.n(oe),se=a(28),ce=a.n(se),ue=a(29),le=a.n(ue),me=a(30),de=a.n(me),he=a(31),fe=a.n(he),pe=a(8),ve=a.n(pe),ge=a(32),be=30,ye={min:.1,max:1.5},_e=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).handleClick=function(e){if(!a.state.foodInstance){var t={x:e.pageX,y:e.pageY,width:1,height:1},n=a.state.rectAquarium;if(g(t,n)){var o=i.a.createElement(F,{xPosition:e.pageX-a.state.rectAquarium.x,destroy:a.destroyFood,rectAquarium:a.state.rectAquarium,update:a.updateFood});a.setState({foodInstance:o})}}},a.handleResize=function(e){a.getAquariumSizeInfo()},a.destroyFood=function(){a.foodPoint=null,a.setState({foodInstance:null})},a.addBubbleToScreen=function(){a.addBubbleInterval.interval=setInterval((function(){a.setState((function(e){var t=e.bubblesList,a=e.currentBubbles;a>=t.length&&(a=0);var n=Math.floor(Math.random()*window.innerWidth),o=(Math.random()+ye.min)*ye.max;return t[a+1<t.length?a+1:0]=null,t[a]=i.a.createElement("img",{key:a,src:fe.a,alt:"",className:T.a.Bubble,style:{bottom:"50px",right:"".concat(n,"px"),transform:"scale(".concat(o,")")}}),{bubblesList:t,currentBubbles:++a}}))}),a.addBubbleInterval.timeInMilliseconds)},a.updateFood=function(e){a.foodPoint=e},a.getAquariumSizeInfo=function(){var e=a.aquariumRef.current.getBoundingClientRect(),t={x:e.x+be/2,y:e.y+be/2,width:e.width-be,height:e.height-be},n=e.width<1e3?2:5;a.setState({rectAquarium:t,fishCount:n},a.initInstanceFish)},a.initInstanceFish=function(){var e=a.state,t=e.fishCount,n=e.fishList;if(0===n.length){for(var o=0;o<t;o++)n.push((function(e,t){return i.a.createElement(E,{key:e,rectAquarium:t,food:a.foodPoint,destroyFood:a.destroyFood})}));a.setState({fishList:n})}},a.state={currentBubbles:0,bubblesList:new Array(50),fishCount:0,fishList:[],foodInstance:null,rectAquarium:null},a.addBubbleInterval={interval:null,timeInMilliseconds:250},a.aquariumRef=i.a.createRef(),a.foodPoint=null,document.addEventListener("click",a.handleClick),window.addEventListener("resize",a.handleResize),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAquariumSizeInfo(),this.addBubbleToScreen()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:T.a.Aquarium},i.a.createElement(z,null),i.a.createElement("div",{className:T.a.Background,ref:this.aquariumRef},i.a.createElement("img",{src:J.a,alt:"",className:T.a.Standing}),i.a.createElement("img",{src:Z.a,alt:"",className:T.a.Standing2}),i.a.createElement("img",{src:ee.a,alt:"",className:T.a.SeaKelp}),i.a.createElement("img",{src:H.a,alt:"",className:T.a.Rock}),i.a.createElement("img",{src:K.a,alt:"",className:T.a.Rocks}),i.a.createElement("img",{src:ae.a,alt:"",className:T.a.BlueShape}),i.a.createElement("img",{src:ie.a,alt:"",className:T.a.BlueShape2}),i.a.createElement("img",{src:ve.a,alt:"",className:T.a.Rock2}),i.a.createElement("img",{src:ve.a,alt:"",className:T.a.Rock3}),i.a.createElement("img",{src:re.a,alt:"",className:T.a.GreenShape}),i.a.createElement("img",{src:ce.a,alt:"",className:T.a.GreenShape2}),i.a.createElement("img",{src:le.a,alt:"",className:T.a.PurpleShape}),i.a.createElement("img",{src:de.a,alt:"",className:T.a.RedShape}),this.state.bubblesList.map((function(e){return e})),this.state.foodInstance,this.state.fishList.map((function(t,a){return t(a,e.state.rectAquarium)})),i.a.createElement("img",{src:W.a,alt:"",className:T.a.Land}),i.a.createElement("img",{src:V.a,alt:"",className:T.a.Sunlight})))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick),document.removeEventListener("resize",this.handleResize),Object(ge.clearInterval)(this.addBubbleInterval.interval)}}]),t}(i.a.PureComponent);a(41);var xe=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(_e,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[33,1,2]]]);
//# sourceMappingURL=main.f169f97e.chunk.js.map