(this.webpackJsonpaquarium=this.webpackJsonpaquarium||[]).push([[0],[,function(e,t,a){e.exports={Aquarium:"Aquarium_Aquarium__tQejz",Background:"Aquarium_Background__1tbqt",Land:"Aquarium_Land__QSN87",Rocks:"Aquarium_Rocks__sMIb_",Rock:"Aquarium_Rock__1-ltl",Standing:"Aquarium_Standing__1_yav",Standing2:"Aquarium_Standing2__OR3a9",Sunlight:"Aquarium_Sunlight__1rWP1",SeaKelp:"Aquarium_SeaKelp__1stG2",BlueShape:"Aquarium_BlueShape__1n1nb",BlueShape2:"Aquarium_BlueShape2__3k8HL",GreenShape:"Aquarium_GreenShape__1OwGD",GreenShape2:"Aquarium_GreenShape2__3xz5W",Rock2:"Aquarium_Rock2__1taqG",Rock3:"Aquarium_Rock3__2z6G7",PurpleShape:"Aquarium_PurpleShape__1PxV2",RedShape:"Aquarium_RedShape__2NwmC",Bubble:"Aquarium_Bubble__3PKjo",moveBubble:"Aquarium_moveBubble__32zRN"}},,,,,,,,,function(e,t,a){e.exports={Food:"Food_Food__3ZtMC",yellow:"Food_yellow__1UZ4Q",green:"Food_green__10WJz"}},function(e,t,a){e.exports=a.p+"static/media/rock2.0c047bfc.svg"},,,,function(e,t,a){e.exports={Fish:"Fish_Fish__1Z0ry"}},function(e,t,a){e.exports=a.p+"static/media/fish.a6ec6b72.svg"},function(e,t,a){e.exports=a.p+"static/media/yellow-food.0f938568.svg"},function(e,t,a){e.exports=a.p+"static/media/green-food.bf3ea358.svg"},function(e,t,a){e.exports={GithubIcon:"GithubIcon_GithubIcon__18cKc"}},function(e,t,a){e.exports=a.p+"static/media/land.5010d4f3.svg"},function(e,t,a){e.exports=a.p+"static/media/rocks.8fa88985.svg"},function(e,t,a){e.exports=a.p+"static/media/rock.771f0d0b.svg"},function(e,t,a){e.exports=a.p+"static/media/standing.7e075853.svg"},function(e,t,a){e.exports=a.p+"static/media/standing2.aa55cd6d.svg"},function(e,t,a){e.exports=a.p+"static/media/sunlight.5ec30dde.svg"},function(e,t,a){e.exports=a.p+"static/media/sea-kelp.38be889c.svg"},function(e,t,a){e.exports=a.p+"static/media/blue-shape.40d840ac.svg"},function(e,t,a){e.exports=a.p+"static/media/blue-shape2.15d7a192.svg"},function(e,t,a){e.exports=a.p+"static/media/green-shape.0baeed56.svg"},function(e,t,a){e.exports=a.p+"static/media/green-shape2.80a36b2c.svg"},function(e,t,a){e.exports=a.p+"static/media/purple-shape.afc4ef84.svg"},function(e,t,a){e.exports=a.p+"static/media/red-shape.8d493c82.svg"},function(e,t,a){e.exports=a.p+"static/media/bubble.69126146.svg"},,function(e,t,a){e.exports=a(46)},,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(14),r=a.n(o),s=(a(40),a(9)),c=a(3),u=a(4),l=a(6),m=a(5),d=a(7),h=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},f=function(e,t){return(180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI).toFixed(3)},p=function(e,t){return{x:Math.floor(Math.random()*(e.x-t.width)),y:Math.floor(Math.random()*(e.y-t.height))}},v=function(e,t){var a,n,i=function(e,t){var a=e.x-t.x,n=e.y-t.y,i=0!==a?n/a:0;return{m:i,b:e.y-i*e.x}}(e,t),o=i.m,r=i.b;return Math.abs(e.x-t.x)>Math.abs(e.y-t.y)?n=o*(a=e.x<t.x?e.x+1:e.x-1)+r:(n=e.y<t.y?e.y+1:e.y-1,a=0!==o?(n-r)/o:t.x),{x:a,y:n}},b=function(e,t){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y},g=function(){return Math.round(Math.random())},y=a(15),_=a.n(y),x=a(16),I=a.n(x);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={RIGHT:"right",LEFT:"left"},A=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).move=function(){clearInterval(a.movementInterval.interval);var e=p(a.state.maxPositionAquarium,a.state.sizeInfoFish);a.movementInterval.interval=setInterval((function(){var t=a.state.food.point||e,n=a.state.fishPosition,i=a.state,o=i.angle,r=i.direction,s=v(n,t);h(n,t)>a.maxDistanceToChangeDirectionAndAngle&&(r=n.x<s.x?w.RIGHT:w.LEFT,o=f(n,s)-180);var c={x:s.x,y:s.y};a.setState({fishPosition:c,direction:r,angle:o});var u=S({},c,{width:a.state.sizeInfoFish.width,height:a.state.sizeInfoFish.height}),l=S({},t,{width:1,height:1});b(u,l)&&(clearInterval(a.movementInterval.interval),a.state.food.point?a.eatFood():a.idle())}),a.state.speed)},a.idle=function(){a.idleTimeout.timeout=setTimeout(a.move,a.idleTimeout.timeInMilliseconds)},a.eatFood=function(){a.props.destroyFood(),a.setState({size:a.state.size+1})},a.getFishSizeInfo=function(e){if(a.state.sizeInfoFish.default){var t=e.getBoundingClientRect();t.default=!1,a.setState({sizeInfoFish:t})}};var n={x:e.rectAquarium.width,y:e.rectAquarium.height};return a.increaseTheFishBy=5,a.movementInterval={interval:null,defaultTimeInMilliseconds:15},a.state={size:1,fishPosition:p(n,{width:30,height:30}),direction:w.LEFT,angle:0,speed:a.movementInterval.defaultTimeInMilliseconds,maxPositionAquarium:n,sizeInfoFish:{width:60-a.increaseTheFishBy,height:50-a.increaseTheFishBy,default:!0},food:{point:null}},a.idleTimeout={timeout:null,timeInMilliseconds:1e3},a.maxDistanceToChangeDirectionAndAngle=10,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){1===g()?this.idle():this.move()}},{key:"componentDidUpdate",value:function(e,t){var a=this;(e.food||t.food.point)&&this.setState((function(t){var n=S({},t),i=n.food;n.speed;return i.point=e.food,{food:i,speed:e.food?1:a.movementInterval.defaultTimeInMilliseconds}}),this.move)}},{key:"render",value:function(){var e=this.state,t=e.fishPosition,a=e.sizeInfoFish,n=e.angle,o=e.size,r=e.direction;return i.a.createElement("img",{ref:this.getFishSizeInfo,src:I.a,alt:"",className:_.a.Fish,style:{width:a.width+o*this.increaseTheFishBy,height:a.height+o*this.increaseTheFishBy,top:t.y,left:t.x,transform:"\n                        rotate(".concat(n,"deg)\n                        scaleY(").concat(r===w.RIGHT?-1:1,")\n                        ")}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.movementInterval.interval),clearTimeout(this.idleTimeout.timeout)}}]),t}(i.a.PureComponent),k=a(10),q=a.n(k),P=a(17),j=a.n(P),E=a(18),F={GREEN:{src:a.n(E).a,class:"green"},YELLOW:{src:j.a,class:"yellow"}},B=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).move=function(){if(a.state.maxY>a.state.yPosition){var e=a.state.yPosition+1;a.setState({yPosition:e}),a.props.update({y:e,x:a.props.xPosition})}else a.props.destroy()},a.state={yPosition:0,maxY:e.rectAquarium.height,color:g()?F.GREEN:F.YELLOW},a.movementInterval={interval:null,timeInMilliseconds:e.init.slowDownTimeInMilliseconds},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.movementInterval.interval=setInterval(this.move,this.movementInterval.timeInMilliseconds)}},{key:"render",value:function(){var e=this.props.xPosition,t=this.state,a=t.yPosition,n=t.color;return i.a.createElement("img",{src:n.src,alt:"",className:[q.a.Food,q.a[n.class]].join(" "),style:{left:e,top:a}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.movementInterval.interval)}}]),t}(i.a.PureComponent),M=a(19),R=a.n(M),N=function(e){return i.a.createElement("a",{target:"_blank",href:"https://github.com/alonlevim/aquarium",className:R.a.GithubIcon},e.children)},T=a(1),z=a.n(T),D=a(20),G=a.n(D),C=a(21),L=a.n(C),W=a(22),U=a.n(W),Y=a(23),K=a.n(Y),H=a(24),J=a.n(H),Q=a(25),Z=a.n(Q),X=a(26),V=a.n(X),$=a(27),ee=a.n($),te=a(28),ae=a.n(te),ne=a(29),ie=a.n(ne),oe=a(30),re=a.n(oe),se=a(31),ce=a.n(se),ue=a(32),le=a.n(ue),me=a(33),de=a.n(me),he=a(11),fe=a.n(he),pe=a(34),ve=a(8);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e){if(!a.state.food.instance){var t={x:e.pageX,y:e.pageY,width:1,height:1},n=a.state.rectAquarium;if(b(t,n)){ve.a.event({category:"Click",action:"Add food"});var o=ge({},a.state.food);o.instance=i.a.createElement(B,{xPosition:e.pageX-a.state.rectAquarium.x,destroy:a.destroyFood,rectAquarium:a.state.rectAquarium,init:a.state.food,update:a.updateFood}),a.setState({food:o})}}},a.destroyFood=function(){var e=ge({},a.state.food);e.instance=a.foodPoint=null,a.setState({food:e})},a.addBubbleToScreen=function(){a.addBubbleInterval.interval=setInterval((function(){a.setState((function(e){var t=ge({},e.bubbles);t.current>=t.list.length&&(t.current=0);var n=Math.floor(Math.random()*window.innerWidth),o=(Math.random()+a.scaleBubble.min)*a.scaleBubble.max;return t.list[t.current+1<t.list.length?t.current+1:0]=null,t.list[t.current]=i.a.createElement("img",{key:t.current,src:de.a,alt:"",className:z.a.Bubble,style:{bottom:"50px",right:"".concat(n,"px"),transform:"scale(".concat(o,")")}}),t.current++,{bubbles:t}}))}),a.addBubbleInterval.timeInMilliseconds)},a.updateFood=function(e){a.foodPoint=e},a.getAquariumSizeInfo=function(e){a.setState((function(t){if(!t.rectAquarium){var n=e.getBoundingClientRect();return{rectAquarium:{x:n.x+a.borderRadius/2,y:n.y+a.borderRadius/2,width:n.width-a.borderRadius,height:n.height-a.borderRadius}}}}),a.initInstanceFish())},a.initInstanceFish=function(){a.setState((function(e){for(var t=ge({},e.fish),n=0;n<t.count;n++)t.list.push((function(e,t){return i.a.createElement(A,{key:e,rectAquarium:t,food:a.foodPoint,destroyFood:a.destroyFood})}));return e}))},a.state={bubbles:{current:0,list:new Array(50)},fish:{count:5,list:[]},food:{instance:null,slowDownTimeInMilliseconds:25},rectAquarium:null},a.addBubbleInterval={interval:null,timeInMilliseconds:250},a.borderRadius=30,a.scaleBubble={min:.1,max:1.5},a.foodPoint=null,document.addEventListener("click",a.handleClick),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.addBubbleToScreen()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:z.a.Aquarium},i.a.createElement("div",{className:z.a.Background,ref:this.getAquariumSizeInfo},i.a.createElement(N,null),i.a.createElement("img",{src:K.a,alt:"",className:z.a.Standing}),i.a.createElement("img",{src:J.a,alt:"",className:z.a.Standing2}),i.a.createElement("img",{src:V.a,alt:"",className:z.a.SeaKelp}),i.a.createElement("img",{src:U.a,alt:"",className:z.a.Rock}),i.a.createElement("img",{src:L.a,alt:"",className:z.a.Rocks}),i.a.createElement("img",{src:ee.a,alt:"",className:z.a.BlueShape}),i.a.createElement("img",{src:ae.a,alt:"",className:z.a.BlueShape2}),i.a.createElement("img",{src:fe.a,alt:"",className:z.a.Rock2}),i.a.createElement("img",{src:fe.a,alt:"",className:z.a.Rock3}),i.a.createElement("img",{src:ie.a,alt:"",className:z.a.GreenShape}),i.a.createElement("img",{src:re.a,alt:"",className:z.a.GreenShape2}),i.a.createElement("img",{src:ce.a,alt:"",className:z.a.PurpleShape}),i.a.createElement("img",{src:le.a,alt:"",className:z.a.RedShape}),this.state.bubbles.list.map((function(e){return e})),this.state.food.instance,this.state.fish.list.map((function(t,a){return t(a,e.state.rectAquarium)})),i.a.createElement("img",{src:G.a,alt:"",className:z.a.Land}),i.a.createElement("img",{src:Z.a,alt:"",className:z.a.Sunlight})))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick),Object(pe.clearInterval)(this.addBubbleInterval.interval)}}]),t}(i.a.PureComponent);a(45);var _e=function(){return ve.a.initialize("UA-120017054-2"),ve.a.pageview("/"),i.a.createElement("div",{className:"App"},i.a.createElement(ye,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[35,1,2]]]);
//# sourceMappingURL=main.691e01e2.chunk.js.map