(this.webpackJsonpaquarium=this.webpackJsonpaquarium||[]).push([[0],[,function(t,e,a){t.exports={Aquarium:"Aquarium_Aquarium__tQejz",Background:"Aquarium_Background__1tbqt",Land:"Aquarium_Land__QSN87",Rocks:"Aquarium_Rocks__sMIb_",Rock:"Aquarium_Rock__1-ltl",Standing:"Aquarium_Standing__1_yav",Standing2:"Aquarium_Standing2__OR3a9",Sunlight:"Aquarium_Sunlight__1rWP1",SeaKelp:"Aquarium_SeaKelp__1stG2",BlueShape:"Aquarium_BlueShape__1n1nb",BlueShape2:"Aquarium_BlueShape2__3k8HL",GreenShape:"Aquarium_GreenShape__1OwGD",GreenShape2:"Aquarium_GreenShape2__3xz5W",Rock2:"Aquarium_Rock2__1taqG",Rock3:"Aquarium_Rock3__2z6G7",PurpleShape:"Aquarium_PurpleShape__1PxV2",RedShape:"Aquarium_RedShape__2NwmC",Bubble:"Aquarium_Bubble__3PKjo",moveBubble:"Aquarium_moveBubble__32zRN"}},,,,,,function(t,e,a){t.exports={Food:"Food_Food__3ZtMC",yellow:"Food_yellow__1UZ4Q",green:"Food_green__10WJz"}},function(t,e,a){t.exports=a.p+"static/media/rock2.0c047bfc.svg"},,,,function(t,e,a){t.exports={Fish:"Fish_Fish__1Z0ry"}},function(t,e,a){t.exports=a.p+"static/media/fish.a6ec6b72.svg"},function(t,e,a){t.exports=a.p+"static/media/yellow-food.0f938568.svg"},function(t,e,a){t.exports=a.p+"static/media/green-food.bf3ea358.svg"},function(t,e,a){t.exports={GithubIcon:"GithubIcon_GithubIcon__18cKc"}},function(t,e,a){t.exports=a.p+"static/media/land.5010d4f3.svg"},function(t,e,a){t.exports=a.p+"static/media/rocks.8fa88985.svg"},function(t,e,a){t.exports=a.p+"static/media/rock.771f0d0b.svg"},function(t,e,a){t.exports=a.p+"static/media/standing.7e075853.svg"},function(t,e,a){t.exports=a.p+"static/media/standing2.aa55cd6d.svg"},function(t,e,a){t.exports=a.p+"static/media/sunlight.5ec30dde.svg"},function(t,e,a){t.exports=a.p+"static/media/sea-kelp.38be889c.svg"},function(t,e,a){t.exports=a.p+"static/media/blue-shape.40d840ac.svg"},function(t,e,a){t.exports=a.p+"static/media/blue-shape2.15d7a192.svg"},function(t,e,a){t.exports=a.p+"static/media/green-shape.0baeed56.svg"},function(t,e,a){t.exports=a.p+"static/media/green-shape2.80a36b2c.svg"},function(t,e,a){t.exports=a.p+"static/media/purple-shape.afc4ef84.svg"},function(t,e,a){t.exports=a.p+"static/media/red-shape.8d493c82.svg"},function(t,e,a){t.exports=a.p+"static/media/bubble.69126146.svg"},function(t,e,a){t.exports=a(38)},,,,,function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(10),r=a.n(o),s=(a(36),a(2)),u=a(3),c=a(5),l=a(4),m=a(6),d=a(11),h=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},f=function(t,e){return(180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI).toFixed(3)},p=function(t,e){return{x:Math.floor(Math.random()*(t.x-e.width)),y:Math.floor(Math.random()*(t.y-e.height))}},g=function(t,e){var a,n,i=function(t,e){var a=t.x-e.x,n=t.y-e.y,i=0!==a?n/a:0;return{m:i,b:t.y-i*t.x}}(t,e),o=i.m,r=i.b;return Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?n=o*(a=t.x<e.x?t.x+2:t.x-2)+r:(n=t.y<e.y?t.y+2:t.y-2,a=0!==o?(n-r)/o:e.x),{x:a,y:n}},v=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y},b=function(){return Math.round(Math.random())},y=a(12),_=a.n(y),x=a(13),q=a.n(x);function S(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function A(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?S(Object(a),!0).forEach((function(e){Object(d.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var w={RIGHT:"right",LEFT:"left"},P=10,k=20,E=60,F=24,O=E-15,R=function(t){function e(t){var a;Object(s.a)(this,e),(a=Object(c.a)(this,Object(l.a)(e).call(this,t))).init=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=a.state.foodPoint;if(null===e&&t&&1===b())return a.idle();var n=a.props.rectAquarium,i={x:n.width,y:n.height};a.tempTargetPoint=p(i,a.state.rectAquarium),a.setState({move:!0})},a.move=function(){var t=a.state,e=t.move,n=t.frameRate;if(a.frameCount++,e&&a.frameCount>=Math.round(E/n)){var i=a.state.foodPoint||a.tempTargetPoint,o=a.state.fishPosition,r=a.state,s=r.angle,u=r.direction,c=g(o,i);h(o,i)>P&&(u=o.x<c.x?w.RIGHT:w.LEFT,s=f(o,c)-180);var l={x:c.x,y:c.y};a.setState({fishPosition:l,direction:u,angle:s});var m=A({},l,{width:a.state.rectAquarium.width,height:a.state.rectAquarium.height}),d=A({},i,{width:1,height:1});v(m,d)&&(a.setState({move:!1}),a.state.foodPoint?a.eatFood():a.idle()),a.frameCount=0}window.requestAnimationFrame(a.move)},a.idle=function(){a.setState({move:!1}),a.idleTimeout.timeout=setTimeout((function(){a.start(!1)}),a.idleTimeout.timeInMilliseconds)},a.start=function(t){a.init(t),a.requestAnimationFrameStarted||(a.requestAnimationFrameStarted=!0,window.requestAnimationFrame(a.move))},a.eatFood=function(){a.props.destroyFood(),a.state.size<k&&a.setState({size:a.state.size+1})},a.getFishSizeInfo=function(t){if(a.state.rectAquarium.default){var e=t.getBoundingClientRect();e.default=!1,a.setState({rectAquarium:e})}};var n={x:t.rectAquarium.width,y:t.rectAquarium.height};return a.state={size:0,fishPosition:p(n,{width:30,height:30}),direction:w.LEFT,angle:0,frameRate:F,rectAquarium:{width:60,height:50,default:!0},foodPoint:null,move:!1},a.idleTimeout={timeout:null,timeInMilliseconds:1e3},a.frameCount=0,a.tempTargetPoint=null,a.requestAnimationFrameStarted=!1,a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.start()}},{key:"componentDidUpdate",value:function(t,e){(t.food||e.foodPoint)&&this.setState((function(e){var a=A({},e);a.foodPoint,a.frameRate;return{foodPoint:t.food,frameRate:t.food?O:F}}),this.start)}},{key:"render",value:function(){var t=this.state,e=t.fishPosition,a=t.rectAquarium,n=t.angle,o=t.size,r=t.direction;return i.a.createElement("img",{ref:this.getFishSizeInfo,src:q.a,alt:"",className:_.a.Fish,style:{width:a.width+5*o,height:a.height+5*o,top:e.y,left:e.x,transform:"\n                        rotate(".concat(n,"deg)\n                        scaleY(").concat(r===w.RIGHT?-1:1,")\n                        ")}})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.idleTimeout.timeout)}}]),e}(i.a.PureComponent),I=a(7),j=a.n(I),M=a(14),N=a.n(M),B=a(15),L={GREEN:{src:a.n(B).a,class:"green"},YELLOW:{src:N.a,class:"yellow"}},C=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(c.a)(this,Object(l.a)(e).call(this,t))).move=function(){if(a.props.rectAquarium.height>a.state.yPosition){var t=a.state.yPosition+1;a.setState({yPosition:t}),a.props.update({y:t,x:a.props.xPosition})}else a.props.destroy()},a.state={yPosition:0,color:b()?L.GREEN:L.YELLOW},a.movementInterval={interval:null,timeInMilliseconds:25},a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.movementInterval.interval=setInterval(this.move,this.movementInterval.timeInMilliseconds)}},{key:"render",value:function(){var t=this.props.xPosition,e=this.state,a=e.yPosition,n=e.color;return i.a.createElement("img",{src:n.src,alt:"",className:[j.a.Food,j.a[n.class]].join(" "),style:{left:t,top:a}})}},{key:"componentWillUnmount",value:function(){clearInterval(this.movementInterval.interval)}}]),e}(i.a.PureComponent),z=a(16),G=a.n(z),T=function(t){return i.a.createElement("a",{target:"_blank",href:"https://github.com/alonlevim/aquarium",className:G.a.GithubIcon},t.children)},W=a(1),D=a.n(W),K=a(17),U=a.n(K),H=a(18),Y=a.n(H),J=a(19),Q=a.n(J),Z=a(20),X=a.n(Z),V=a(21),$=a.n(V),tt=a(22),et=a.n(tt),at=a(23),nt=a.n(at),it=a(24),ot=a.n(it),rt=a(25),st=a.n(rt),ut=a(26),ct=a.n(ut),lt=a(27),mt=a.n(lt),dt=a(28),ht=a.n(dt),ft=a(29),pt=a.n(ft),gt=a(30),vt=a.n(gt),bt=a(8),yt=a.n(bt),_t=30,xt={min:.1,max:1.5},qt=Math.round(40),St=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(c.a)(this,Object(l.a)(e).call(this,t))).start=function(){a.getAquariumSizeInfo(),a.steps(),a.requestAnimationFrameStarted||(a.requestAnimationFrameStarted=!0,window.requestAnimationFrame(a.steps))},a.steps=function(){a.frameCount++,a.frameCount>=qt&&(a.addBubbleToScreen(),a.frameCount=0),window.requestAnimationFrame(a.steps)},a.handleClick=function(t){if(!a.state.foodInstance){var e={x:t.pageX,y:t.pageY,width:1,height:1},n=a.state.rectAquarium;if(v(e,n)){var o=i.a.createElement(C,{xPosition:t.pageX-a.state.rectAquarium.x,destroy:a.destroyFood,rectAquarium:a.state.rectAquarium,update:a.updateFood});a.setState({foodInstance:o})}}},a.handleResize=function(t){a.getAquariumSizeInfo()},a.destroyFood=function(){a.foodPoint=null,a.setState({foodInstance:null})},a.addBubbleToScreen=function(){a.setState((function(t){var e=t.bubblesList,a=t.currentBubbles;a>=e.length&&(a=0);var n=Math.floor(Math.random()*window.innerWidth),o=(Math.random()+xt.min)*xt.max;return e[a+1<e.length?a+1:0]=null,e[a]=i.a.createElement("img",{key:a,src:vt.a,alt:"",className:D.a.Bubble,style:{bottom:"3%",right:"".concat(n,"px"),transform:"scale(".concat(o,")")}}),{bubblesList:e,currentBubbles:++a}}))},a.updateFood=function(t){a.foodPoint=t},a.getAquariumSizeInfo=function(){var t=a.aquariumRef.current.getBoundingClientRect(),e={x:t.x+_t/2,y:t.y+_t/2,width:t.width-_t,height:t.height-_t},n=t.width<1e3?2:5;a.setState({rectAquarium:e,fishCount:n},a.initInstanceFish)},a.initInstanceFish=function(){var t=a.state,e=t.fishCount,n=t.fishList;if(0===n.length){for(var o=0;o<e;o++)n.push((function(t,e){return i.a.createElement(R,{key:t,rectAquarium:e,food:a.foodPoint,destroyFood:a.destroyFood})}));a.setState({fishList:n})}},a.state={currentBubbles:0,bubblesList:new Array(50),fishCount:0,fishList:[],foodInstance:null,rectAquarium:null},a.aquariumRef=i.a.createRef(),a.foodPoint=null,a.frameCount=0,a.requestAnimationFrameStarted=!1,document.addEventListener("click",a.handleClick),window.addEventListener("resize",a.handleResize),a}return Object(m.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.start()}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:D.a.Aquarium},i.a.createElement(T,null),i.a.createElement("div",{className:D.a.Background,ref:this.aquariumRef},i.a.createElement("img",{src:X.a,alt:"",className:D.a.Standing}),i.a.createElement("img",{src:$.a,alt:"",className:D.a.Standing2}),i.a.createElement("img",{src:nt.a,alt:"",className:D.a.SeaKelp}),i.a.createElement("img",{src:Q.a,alt:"",className:D.a.Rock}),i.a.createElement("img",{src:Y.a,alt:"",className:D.a.Rocks}),i.a.createElement("img",{src:ot.a,alt:"",className:D.a.BlueShape}),i.a.createElement("img",{src:st.a,alt:"",className:D.a.BlueShape2}),i.a.createElement("img",{src:yt.a,alt:"",className:D.a.Rock2}),i.a.createElement("img",{src:yt.a,alt:"",className:D.a.Rock3}),i.a.createElement("img",{src:ct.a,alt:"",className:D.a.GreenShape}),i.a.createElement("img",{src:mt.a,alt:"",className:D.a.GreenShape2}),i.a.createElement("img",{src:ht.a,alt:"",className:D.a.PurpleShape}),i.a.createElement("img",{src:pt.a,alt:"",className:D.a.RedShape}),this.state.bubblesList.map((function(t){return t})),this.state.foodInstance,this.state.fishList.map((function(e,a){return e(a,t.state.rectAquarium)})),i.a.createElement("img",{src:U.a,alt:"",className:D.a.Land}),i.a.createElement("img",{src:et.a,alt:"",className:D.a.Sunlight})))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick),document.removeEventListener("resize",this.handleResize)}}]),e}(i.a.PureComponent);a(37);var At=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(St,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(At,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[31,1,2]]]);
//# sourceMappingURL=main.d386dd8c.chunk.js.map